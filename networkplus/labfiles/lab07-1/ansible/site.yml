---
- name: Configure controler
  hosts: control.example.com
  roles:
    - role: controller
- name: Bootstrap network interfaces
  gather_facts: false
  hosts:
    - firewalls
    - routers
  roles:
    - role: bootstrap
    - role: system-packages
    - role: nic
# After bootstrapping, the network devices need to be cofigured from the
# outside to the inside as any device will depend on the devices between it
# and the Internet.
- name: Configure firewall
  hosts: firewall.example.com
  roles:
    - role: firewall
    - role: router
- name: Configure router1
  hosts: router1.example.com
  roles:
    - role: router
- name: Configure router2
  hosts: router2.example.com
  roles:
    - role: router
