---
# This playbook configures the guest OS as Vagrant creates the VMs.
- name: Common configuration
  hosts: all
  roles:
    - role: base

- name: RHCE VM Configuration
  hosts: rhce8
  roles:
    - { role: rhel-system-roles.network, become: yes }

- name: RHCSA VM Configuration
  hosts: rhcsa7:rhcsa8
  roles:
    - role: vagranthost
    - role: netconfig-lab
    - role: labhost

- name: Configure FreeIPA hosts
  hosts: ipa_server
  roles:
    - role: vagrant-freeipa
    - role: vagrant-freeipa-users

- name: Exam hosts
  hosts: exam1 exam2
  roles:
    - role: netconfig-lab
    - role: examhost

- name: Reboot
  hosts: all
  roles:
    - role: vagrant-vm-reboot
